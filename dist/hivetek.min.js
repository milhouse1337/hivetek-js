"use strict";!function(e,d){d&&(d.fn.hivetek||d.hivetek?console.log("HiveTek jQuery Toolkit already initialized."):(d.fn.hivetek={},d.fn.hivetek.settings={text_loading:"Loading...",fadein_delay:200},d.fn.hivetek.config=function(e,n){d.fn.hivetek.settings[e]=n},d.fn.hivetek.test=function(e){return console.log("tested"),console.log(e,this,d.fn.hivetek.settings),!0},d.fn.hivetek.doAjaxGet=function(e,n,o,t){n=void 0!==n?n:{},o=void 0!==o?o:function(){},t=void 0!==t?t:function(){};return d.ajax({url:e,type:"GET",data:n}).done(function(e){o(e)}).fail(function(e){t(e)}),!0},d.fn.hivetek.doAjaxPost=function(e,n,o,t){n=void 0!==n?n:{},o=void 0!==o?o:function(){},t=void 0!==t?t:function(){};return d.ajax({url:e,type:"POST",data:n}).done(function(e){o(e)}).fail(function(e){t(e)}),!0},d.fn.hivetek.doAjax=function(e,n,o,t,i){n=void 0!==n?n:{},t=void 0!==t?t:function(){},i=void 0!==i?i:function(){};return d(o).html(d.fn.hivetek.settings.text_loading),d.fn.hivetek.doAjaxGet(e,n,function(e){d(o).hide(),d(o).html(e),d(o).fadeIn(d.fn.hivetek.settings.fadein_delay),t(e)},function(e){d(o).hide(),d(o).html(e.responseText),d(o).fadeIn(d.fn.hivetek.settings.fadein_delay),i(e)}),!0},d.fn.hivetek.doAjaxFancybox=function(o,e,t,i,a){e=void 0!==e?e:{},t=void 0!==t&&t,i=void 0!==i?i:function(){},a=void 0!==a?a:function(){};return d.fancybox?(d.fancybox.showLoading(),d.ajax({url:o,type:"GET",data:e}).done(function(e){d.fn.hivetek.showFancybox(e,t),d(".fancybox-inner form").on("submit",function(e){e.preventDefault();var n=new FormData(d(this)[0]);return d.fn.hivetek.ajaxSubmitFancyboxForm(o,n,t,i,a),!1}),i(e)}).fail(function(e){d.fn.hivetek.showFancybox(e.responseText,t),a(e)}),!0):(console.log("HiveTek jQuery Toolkit: fancyBox is not loaded."),!1)},d.fn.hivetek.ajaxSubmitFancyboxForm=function(o,e,t,i,a){e=void 0!==e?e:{},t=void 0!==t&&t,i=void 0!==i?i:function(){},a=void 0!==a?a:function(){};return d('.fancybox-inner form button[type="submit"]').attr("disabled",""),d('.fancybox-inner form button[type="submit"]').html("..."),d.ajax({url:o,type:"POST",data:e,cache:!1,contentType:!1,processData:!1}).done(function(e){d.fn.hivetek.showFancybox(e,t),d(".fancybox-inner form").on("submit",function(e){e.preventDefault();var n=new FormData(d(this)[0]);return d.fn.hivetek.ajaxSubmitFancyboxForm(o,n,t,i,a),!1}),i(e)}).fail(function(e){d.fn.hivetek.showFancybox(e.responseText,t),a(e)}),!0},d.fn.hivetek.showFancybox=function(e,n){var o={content:e,autoWidth:!0,autoHeight:!0,autoResize:!0,helpers:{overlay:{locked:!1}}};return n&&(o.closeBtn=!1,o.closeClick=!1,o.keys={close:null},o.helpers={overlay:{closeClick:!1,locked:!1}}),d.fancybox(o),d(".fancybox-inner .fancyclose").on("click",function(){d.fancybox.close()}),!1},d.fn.hivetek.closeModal=function(){setTimeout(function(){d.fancybox.close()},1),d("#hivetek-modal").modal("hide")},d.fn.hivetek.doAjaxModal=function(o,e,t,i,a){o=void 0!==o?o:"",e=void 0!==e?e:{},t=void 0!==t&&t,i=void 0!==i?i:function(){},a=void 0!==a?a:function(){};return d.fn.hivetek.initModal(),d("#hivetek-modal-spinner").show(),d.ajax({url:o,type:"GET",data:e}).done(function(e){d("#hivetek-modal-spinner").hide(),d.fn.hivetek.showModal(e,t),d("#hivetek-modal .modal-body form").on("submit",function(e){e.preventDefault();var n=new FormData(d(this)[0]);return d.fn.hivetek.doAjaxModalPostForm(o,n,t,i,a),!1}),i(e)}).fail(function(e){d("#hivetek-modal-spinner").hide(),d.fn.hivetek.showModal(e.responseText,t),a(e)}),!0},d.fn.hivetek.doAjaxModalPostForm=function(o,e,t,i,a){o=void 0!==o?o:"",e=void 0!==e?e:{},t=void 0!==t&&t,i=void 0!==i?i:function(){},a=void 0!==a?a:function(){};return d('#hivetek-modal .modal-body form button[type="submit"]').attr("disabled",""),d('#hivetek-modal .modal-body form button[type="submit"]').html("..."),d.ajax({url:o,type:"POST",data:e,cache:!1,contentType:!1,processData:!1}).done(function(e){d("#hivetek-modal-spinner").hide(),d.fn.hivetek.showModal(e,t),d("#hivetek-modal .modal-body form").on("submit",function(e){e.preventDefault();var n=new FormData(d(this)[0]);return d.fn.hivetek.doAjaxModalPostForm(o,n,t,i,a),!1}),i(e)}).fail(function(e){d("#hivetek-modal-spinner").hide(),d.fn.hivetek.showModal(e.responseText,t),a(e)}),!0},d.fn.hivetek.showModal=function(e,n){var o=d("#hivetek-modal");o.find(".modal-body").html(e);var t={};return n&&(t={backdrop:"static",keyboard:!1}),o.modal(t),!0},d.fn.hivetek.initModal=function(){return 0==d("#hivetek-modal").length&&d("body").append('\n<div id="hivetek-modal" class="modal" tabindex="-1" role="dialog" aria-labelledby="modalaxLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content animated fadeIn">\n            <div class="modal-body">\n                \x3c!-- AJAX --\x3e\n            </div>\n        </div>\n    </div>\n</div>'),0==d("#hivetek-modal-spinner").length&&d("body").append('<div id="hivetek-modal-spinner" style="position: fixed; background-color: #666; padding: 18px; border-radius: 8px; top: 50%; left: 50%; transform: translate(-50%, -50%); display: none; z-index: 99999;"><img src="//cdn.jsdelivr.net/gh/SamHerbert/SVG-Loaders/svg-loaders/spinning-circles.svg" width="58" height="58" alt="" /></div>'),!0},d.fn.hivetek.loadTokenFromMeta=function(){d.ajaxSetup({headers:{"X-CSRF-TOKEN":d('meta[name="csrf-token"]').attr("content")}})},d.fn.hivetek.loadLegacy=function(){e.doAjaxFancybox=d.fn.hivetek.doAjaxFancybox,e.doAjaxGet=d.fn.hivetek.doAjaxGet,e.doAjaxPost=d.fn.hivetek.doAjaxPost,e.doAjax=d.fn.hivetek.doAjax,e.closeModal=d.fn.hivetek.closeModal},d.hivetek=d.fn.hivetek))}(window,jQuery);