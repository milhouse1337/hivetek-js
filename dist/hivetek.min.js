"use strict";!function(n,d){d&&(d.fn.hivetek||d.hivetek?console.log("HiveTek jQuery Toolkit already initialized."):(d.fn.hivetek={},d.fn.hivetek.settings={text_loading:"Loading...",fadein_delay:200},d.fn.hivetek.config=function(n,o){d.fn.hivetek.settings[n]=o},d.fn.hivetek.test=function(n){return console.log("tested"),console.log(n,this,d.fn.hivetek.settings),!0},d.fn.hivetek.doAjaxGet=function(n,o,e,t){o=void 0!==o?o:{},e=void 0!==e?e:function(){},t=void 0!==t?t:function(){};return d.ajax({url:n,type:"GET",data:o}).done(function(n){e(n)}).fail(function(n){t(n)}),!0},d.fn.hivetek.doAjaxPost=function(n,o,e,t){o=void 0!==o?o:{},e=void 0!==e?e:function(){},t=void 0!==t?t:function(){};return d.ajax({url:n,type:"POST",data:o}).done(function(n){e(n)}).error(function(n){t(n)}),!0},d.fn.hivetek.doAjax=function(n,o,e,t,a){o=void 0!==o?o:{},t=void 0!==t?t:function(){},a=void 0!==a?a:function(){};return d(e).html(d.fn.hivetek.settings.text_loading),d.fn.hivetek.doAjaxGet(n,o,function(n){d(e).hide(),d(e).html(n),d(e).fadeIn(d.fn.hivetek.settings.fadein_delay),t(n)},function(n){d(e).hide(),d(e).html(n.responseText),d(e).fadeIn(d.fn.hivetek.settings.fadein_delay),a(n)}),!0},d.fn.hivetek.doAjaxFancybox=function(e,n,t,a,i){return n=void 0!==n?n:{},t=void 0!==t&&t,a=void 0!==a?a:function(){},i=void 0!==i?i:function(){},d.fancybox?(d.fancybox.showLoading(),d.ajax({url:e,type:"GET",data:n}).done(function(n){d.fn.hivetek.showFancybox(n,t),d(".fancybox-inner form").on("submit",function(n){n.preventDefault();var o=new FormData(d(this)[0]);return d.fn.hivetek.ajaxSubmitFancyboxForm(e,o,t,a,i),!1}),a(n)}).fail(function(n){d.fn.hivetek.showFancybox(n.responseText,t),i(n)}),!0):(console.log("HiveTek jQuery Toolkit: fancyBox is not loaded."),!1)},d.fn.hivetek.ajaxSubmitFancyboxForm=function(e,n,t,a,i){return n=void 0!==n?n:{},t=void 0!==t&&t,a=void 0!==a?a:function(){},i=void 0!==i?i:function(){},d('.fancybox-inner form button[type="submit"]').attr("disabled",""),d('.fancybox-inner form button[type="submit"]').html("..."),d.ajax({url:e,type:"POST",data:n,cache:!1,contentType:!1,processData:!1}).done(function(n){d.fn.hivetek.showFancybox(n,t),d(".fancybox-inner form").on("submit",function(n){n.preventDefault();var o=new FormData(d(this)[0]);return d.fn.hivetek.ajaxSubmitFancyboxForm(e,o,t,a,i),!1}),a(n)}).fail(function(n){d.fn.hivetek.showFancybox(n.responseText,t),i(n)}),!0},d.fn.hivetek.showFancybox=function(n,o){var e={content:n,autoWidth:!0,autoHeight:!0,autoResize:!0,helpers:{overlay:{locked:!1}}};return o&&(e.closeBtn=!1,e.closeClick=!1,e.keys={close:null},e.helpers={overlay:{closeClick:!1,locked:!1}}),d.fancybox(e),d(".fancybox-inner .fancyclose").on("click",function(){d.fancybox.close()}),!1},d.fn.hivetek.closeModal=function(){setTimeout(function(){d.fancybox.close()},1)},d.fn.hivetek.doAjaxModal=function(e,n,t,a,i){return e=void 0!==e?e:"",n=void 0!==n?n:{},t=void 0!==t&&t,a=void 0!==a?a:function(){},i=void 0!==i?i:function(){},d.fn.hivetek.initModal(),d("#modalax-spinner").show(),d.ajax({url:e,type:"GET",data:n}).done(function(n){d("#modalax-spinner").hide(),d.fn.hivetek.showModal(n,t),d("#modalax-wrap .modal-body form").on("submit",function(n){n.preventDefault();var o=new FormData(d(this)[0]);return d.fn.hivetek.doAjaxModalPostForm(e,o,t,a,i),!1}),a(n)}).fail(function(n){d.fn.hivetek.showModal(n.responseText,t),i(n)}),!0},d.fn.hivetek.doAjaxModalPostForm=function(e,n,t,a,i){return e=void 0!==e?e:"",n=void 0!==n?n:{},t=void 0!==t&&t,a=void 0!==a?a:function(){},i=void 0!==i?i:function(){},d("#modalax-wrap").modal("hide"),d('#modalax-wrap .modal-body form button[type="submit"]').attr("disabled",""),d('#modalax-wrap .modal-body form button[type="submit"]').html("..."),d("#modalax-spinner").show(),d.ajax({url:e,type:"POST",data:n,cache:!1,contentType:!1,processData:!1}).done(function(n){d("#modalax-spinner").hide(),d.fn.hivetek.showModal(n,t),d("#modalax-wrap .modal-body form").on("submit",function(n){n.preventDefault();var o=new FormData(d(this)[0]);return d.fn.hivetek.doAjaxModalPostForm(e,o,t,a,i),!1}),a(n)}).fail(function(n){d.fn.hivetek.showModal(n.responseText,t),i(n)}),!0},d.fn.hivetek.showModal=function(n,o){var e=d("#modalax-wrap");e.find(".modal-body").html(n);var t={};return o&&(t={backdrop:"static",keyboard:!1}),e.modal(t),!0},d.fn.hivetek.initModal=function(){return 0==d("#modalax-wrap").length&&d("body").append('\n<div id="modalax-wrap" class="modal" tabindex="-1" role="dialog" aria-labelledby="modalaxLabel" aria-hidden="true">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content animated fadeIn">\n        \x3c!--\n        <div class="modal-header">\n        <h5 class="modal-title" id="modalaxLabel">New message</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n        </button>\n        </div>\n        --\x3e\n        <div class="modal-body">\n            \x3c!-- AJAX --\x3e\n        </div>\n        \x3c!--\n        <div class="modal-footer">\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary">Valider</button>\n        </div>\n        --\x3e\n        </div>\n    </div>\n</div>'),0==d("#modalax-spinner").length&&d("body").append('<div id="modalax-spinner" style="position: fixed; background-color: #666; padding: 18px; border-radius: 8px; top: 50%; left: 50%; transform: translate(-50%, -50%); display: none; z-index: 999;"><img src="//cdn.jsdelivr.net/gh/SamHerbert/SVG-Loaders/svg-loaders/spinning-circles.svg" width="58" height="58" alt="..." /></div>'),!0},d.fn.hivetek.fixAjaxToken=function(){d.ajaxSetup({headers:{"X-CSRF-TOKEN":d('meta[name="csrf-token"]').attr("content")}})},d.fn.hivetek.loadLegacy=function(){n.doAjaxFancybox=d.fn.hivetek.doAjaxFancybox,n.doAjaxGet=d.fn.hivetek.doAjaxGet,n.doAjaxPost=d.fn.hivetek.doAjaxPost,n.doAjax=d.fn.hivetek.doAjax,n.closeModal=d.fn.hivetek.closeModal},d.hivetek=d.fn.hivetek))}(window,jQuery);